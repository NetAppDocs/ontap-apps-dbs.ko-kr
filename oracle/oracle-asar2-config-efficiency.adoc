---
sidebar: sidebar 
permalink: oracle/oracle-asar2-config-efficiency.html 
keywords: oracle, efficiency, compression, compaction, deduplication, ASA r2 
summary: ASA r2를 사용한 Oracle 데이터베이스 및 스토리지 효율성 향상 
searchtitle: ASA r2의 Oracle 데이터베이스 및 ONTAP 효율성 기능 
---
= 효율성
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
ONTAP 공간 효율성 기능은 ASA r2 시스템에 맞게 완벽하게 지원되고 최적화되어 있습니다. 거의 모든 경우에 가장 좋은 방법은 모든 효율성 기능을 활성화한 상태로 기본 설정을 그대로 두는 것입니다.

ASA r2 시스템은 올플래시 SAN 플랫폼이므로 압축, 압축 압축 및 중복 제거와 같은 효율성 기술은 사용 가능한 용량을 극대화하고 비용을 절감하는 데 매우 중요합니다.



== 압축

압축은 데이터의 패턴을 인코딩하여 저장 공간 요구 사항을 줄입니다. SSD 기반 ASA r2 시스템에서는 플래시 메모리가 성능 향상을 위한 과잉 프로비저닝의 필요성을 없애주기 때문에 압축을 통해 상당한 비용 절감을 실현할 수 있습니다. ONTAP 적응형 압축은 기본적으로 활성화되어 있으며 Oracle 데이터베이스를 포함한 엔터프라이즈 워크로드에서 철저히 테스트되었습니다. 마이크로초 단위의 지연 시간이 발생하는 환경에서도 성능 저하가 전혀 관찰되지 않았습니다. 경우에 따라 압축된 데이터가 캐시 공간을 덜 차지하기 때문에 성능이 향상됩니다.


NOTE: 온도 감응형 저장 효율(TSSE)은 ASA r2 시스템에 적용되지 않습니다. ASA r2 시스템에서는 압축이 자주 액세스되는 데이터(핫 데이터) 또는 자주 액세스되지 않는 데이터(콜드 데이터)를 기준으로 수행되지 않습니다. 압축은 데이터가 차가워지기를 기다리지 않고 시작됩니다.



== 적응형 압축

적응형 압축은 기본적으로 8KB 블록 크기를 사용하는데, 이는 관계형 데이터베이스에서 일반적으로 사용되는 블록 크기와 일치합니다. 더 큰 블록 크기(16KB 또는 32KB)는 트랜잭션 로그 또는 백업과 같은 순차 데이터의 효율성을 향상시킬 수 있지만, 덮어쓰기 중 오버헤드를 방지하기 위해 활성 데이터베이스에서는 신중하게 사용해야 합니다.


NOTE: 로그 파일이나 백업 파일과 같이 활동이 적은 파일의 경우 블록 크기를 최대 32KB까지 늘릴 수 있습니다. 기본 설정을 변경하기 전에 NetApp 지침을 참조하십시오.


CAUTION: 스트리밍 백업 시 중복 제거 기능이 있는 32KB 압축 방식을 사용하지 마십시오. 중복 제거 효율을 유지하려면 8KB 압축을 사용하십시오.



== 압축 정렬

임의 덮어쓰기의 경우 압축 정렬이 중요합니다. LUN 유형, 파티션 오프셋(8KB의 배수), 파일 시스템 블록 크기가 데이터베이스 블록 크기에 맞춰져 있는지 확인하십시오. 백업이나 로그와 같은 순차적 데이터는 정렬을 고려할 필요가 없습니다.



== 데이터 컴팩션

압축은 여러 개의 압축된 블록이 동일한 물리적 블록을 공유할 수 있도록 함으로써 압축을 보완합니다. 예를 들어 8KB 블록이 1KB로 압축될 경우, 압축 과정을 통해 남은 공간이 낭비되지 않도록 합니다. 이 기능은 인라인으로 구현되어 성능 저하를 유발하지 않습니다.



== 중복 제거

중복 제거는 데이터 세트 전체에서 중복되는 블록을 제거합니다. 오라클 데이터베이스는 일반적으로 고유한 블록 헤더와 트레일러로 인해 중복 제거를 통한 공간 절약 효과가 미미하지만, ONTAP 중복 제거는 0으로 채워진 블록과 반복되는 패턴에서 공간을 회수할 수 있습니다.



== 효율성 및 씬 프로비저닝

ASA r2 시스템은 기본적으로 씬 프로비저닝을 사용합니다. 효율성 기능은 씬 프로비저닝을 보완하여 사용 가능한 용량을 극대화합니다.


NOTE: ASA r2 스토리지 시스템에서는 스토리지 장치가 항상 씬 프로비저닝됩니다. 두꺼운 프로비저닝은 지원되지 않습니다.



== 퀵어시스트 기술(QAT)

NetApp ASA r2 플랫폼에서 Intel QuickAssist Technology(QAT)는 QAT가 없는 소프트웨어 기반 온도 민감형 스토리지 효율성(TSSE)과 크게 다른 하드웨어 가속 효율성을 제공합니다.

*하드웨어 가속을 지원하는 QAT:*

* CPU 코어에서 압축 및 암호화 작업을 분담합니다.
* 자주 액세스하는 데이터(핫 데이터)와 자주 액세스하지 않는 데이터(콜드 데이터) 모두에 대해 즉각적이고 효율적인 인라인 처리를 지원합니다.
* CPU 오버헤드를 크게 줄여줍니다.
* 더 높은 처리량과 더 낮은 지연 시간을 제공합니다.
* TLS 및 VPN 암호화와 같이 성능에 민감한 작업의 확장성을 향상시킵니다.


*QAT가 없는 TSSE:*

* 효율적인 작업을 위해 CPU 기반 프로세스에 의존합니다.
* 지연 후 콜드 데이터에만 효율성을 적용합니다.
* CPU 자원을 더 많이 소모합니다.
* QAT 가속 시스템에 비해 전반적인 성능이 제한됩니다.


따라서 최신 ASA r2 시스템은 기존 TSSE 전용 플랫폼보다 더 빠른 하드웨어 가속 효율성과 더 나은 시스템 활용률을 제공합니다.



== ASA r2의 효율성 향상을 위한 최적의 방법

* NetApp는 * 다음을 권장합니다.



=== ASA r2 기본 설정

ASA r2 시스템에서 실행되는 ONTAP 에 생성된 스토리지 장치는 압축, 압축 해제 및 중복 제거를 포함한 모든 인라인 효율성 기능이 기본적으로 활성화된 상태로 씬 프로비저닝됩니다. 오라클 데이터베이스는 일반적으로 데이터 중복 제거를 통해 큰 이점을 얻지 못하고 압축 불가능한 데이터를 포함할 수 있지만, 이러한 기본 설정은 거의 모든 워크로드에 적합합니다. ONTAP 비용 절감 여부와 관계없이 모든 유형의 데이터 및 I/O 패턴을 효율적으로 처리하도록 설계되었습니다. 기본 설정은 변경 사유를 완전히 이해하고 변경으로 인한 명확한 이점이 있는 경우에만 변경해야 합니다.



=== 일반 권장 사항

* 암호화되었거나 앱에서 압축된 데이터에 대한 압축 비활성화: 파일이 이미 앱 수준에서 압축되었거나 암호화된 경우, 성능을 최적화하고 다른 저장 장치에서 더 효율적인 작업을 수행할 수 있도록 압축을 비활성화하십시오.
* 대용량 압축 블록과 중복 제거를 함께 사용하지 마십시오. 데이터베이스 백업 시 32KB 압축과 중복 제거를 동시에 사용하지 마십시오. 스트리밍 백업의 경우, 중복 제거 효율을 유지하기 위해 8KB 압축을 사용하십시오.
* 효율성 절감 효과 모니터링: ONTAP 도구(System Manager, Active IQ)를 사용하여 실제 공간 절감 효과를 추적하고 필요한 경우 정책을 조정하십시오.

