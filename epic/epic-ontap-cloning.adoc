---
sidebar: sidebar 
permalink: epic/epic-ontap-cloning.html 
keywords: epic,cache,iris 
summary: EPIC 데이터 보호 
---
= EPIC 클로닝
:allow-uri-read: 


[role="lead"]
Epic은 스토리지 노드 기반 NetApp Snapshot 기술이 기존 파일 기반 백업과 비교하여 운영 워크로드에 성능 영향이 없다는 사실을 인지하고 있습니다. Snapshot 백업을 운영 데이터베이스의 복구 소스로 사용할 때는 데이터베이스 일관성을 염두에 두고 백업 방법을 구현해야 합니다.

스냅샷은 볼륨의 특정 시점 읽기 전용 백업 복사본입니다. NetApp FlexClone ® 은 스냅샷을 가져와서 즉시 읽고 쓰기 가능하게 합니다. FlexClone 볼륨은 애플리케이션 정합성이 보장된 읽기 전용 스냅샷을 생성하고 프로덕션 데이터에서 쓰기 가능한 FlexClone 볼륨을 생성하여 뛰어난 가치를 제공합니다. 이 기본 기능은 스토리지 절약, 운영 시간 및 자동화 기능에 큰 영향을 미칩니다.

업데이트 프로세스에는 FlexClone 볼륨이 사용됩니다.



== 데이터 관리

솔루션의 일부로 NetApp는 기본 ONTAP 툴을 사용하여 완전히 자동화된 백업 및 테스트 교체 솔루션을 제공합니다. 이 솔루션은 Epic 데이터베이스 관리자(DBA)의 대규모 커뮤니티를 위해 특별히 Epic 데이터 관리를 간소화하도록 설계되었습니다.

* EPIC Mirror는 재해 복구 및 보고서(녹색으로 표시됨)로 데이터를 복제하는 데 사용됩니다.
* 일일 데이터가 보고에서 Clarity로 덤프됩니다.
* NetApp 자동 백업(노란색으로 표시됨).
* NetApp는 SUP, REP 및 기타(파란색으로 표시됨)의 테스트 새로 고침을 자동화합니다.
* 테스트 환경은 더 작은 스쿼시 사본이 아니라 전체 복사 환경에 사용됩니다.


자세한 내용은 Epic 애플리케이션용 NetApp 서비스 에 문의하십시오.

워크로드에 적합한 수량의 LUN이 하나 이상 있는 둘 이상의 볼륨에 스토리지가 분산되어 있는 애플리케이션의 경우 컨텐츠를 함께 백업해야 하며 일관된 데이터 보호를 위해서는 CG가 필요합니다.

정합성 보장 그룹(간단히 말해 CG)은 이러한 기능 및 기타 기능을 제공합니다. 야간에 정책을 사용하여 주문형 또는 예약된 정합성 보장 스냅샷을 생성하는 데 사용할 수 있습니다. 이 기능을 사용하여 데이터를 복원, 클론 생성, 복제할 수도 있습니다.

CG에 대한 자세한 내용은 을 참조하십시오 link:https://docs.netapp.com/us-en/ontap/consistency-groups/["정합성 보장 그룹에 대한 NetApp 설명서"^]



== Epic용 정합성 보장 그룹 구성

본 문서의 이전 섹션에서 자세히 설명한 대로 볼륨과 LUN을 프로비저닝한 후 CG 세트로 구성할 수 있습니다. 권장되는 모범 사례는 아래 그림과 같이 설정하는 것입니다.

image:epic-cg-layout.png["EPIC 및 정합성 보장 그룹"]



== 정합성 보장 그룹 스냅샷

운영 데이터베이스에 스토리지를 제공하는 볼륨과 연결된 각 하위 CG에 야간 CG 스냅샷 스케줄을 설정해야 합니다. 이렇게 하면 매일 밤 CG의 일관된 백업을 새로 만들 수 있습니다. 그런 다음 개발 및 테스트와 같은 비프로덕션 환경에서 사용할 프로덕션 데이터베이스를 복제하는 데 사용할 수 있습니다. NetApp은 Epic용 독점 CG 기반 자동화 Ansible 워크플로우를 개발하여 운영 데이터베이스 백업, 업데이트 및 테스트 환경도 자동화합니다.

CG 스냅샷을 사용하여 Epic의 운영 데이터베이스의 복원 작업을 지원할 수 있습니다.

SAN 볼륨의 경우 CG에 사용되는 각 볼륨에서 기본 스냅샷 정책을 사용하지 않도록 설정합니다. 이러한 스냅샷은 일반적으로 사용 중인 백업 애플리케이션 또는 NetApp의 Epic Ansible 자동화 서비스에 의해 관리됩니다.

SAN 볼륨의 경우 각 볼륨에서 기본 스냅샷 정책을 해제합니다. 이러한 스냅샷은 일반적으로 백업 애플리케이션 또는 Epic Ansible 자동화를 통해 관리됩니다.[NS2]

WebBLOB 및 VMare 데이터 세트는 CG와 연결되지 않고 볼륨으로만 구성해야 합니다. SnapMirror 또는 SnapVault 기술을 사용하여 스냅샷 복사본을 운영 환경과 별도로 스토리지 시스템에 유지할 수 있습니다.

완료되면 구성은 다음과 같습니다.

image:epic-cg-snapshots.png["Epic CG 스냅샷"]
