---
sidebar: sidebar 
permalink: epic/epic-config-lunvol.html 
keywords: epic,cache,iris 
summary: Epic LUN 및 볼륨 구성 
---
= Epic LUN 및 볼륨 구성
:allow-uri-read: 


[role="lead"]
Epic 데이터베이스 스토리지 레이아웃 권장 사항 문서에서는 각 데이터베이스의 LUN 크기 및 수에 대한 지침을 제공합니다.

따라서 Epic DBA 및 Epic 지원 팀과 함께 이 문서를 검토하고 LUN 및 LUN 크기를 조정해야 할 수도 있습니다. 이러한 스토리지 권장 사항은 HBA 대기열 길이, 스토리지 성능, 작업 용이성 및 확장 용이성에 중요합니다.

서버 OS 대기열 길이를 고려하려면 데이터베이스에 최소 8개의 LUN(볼륨당 1개의 LUN)을 사용합니다. ONTAP 클러스터의 노드 수보다 LUN 수가 더 많이 증가합니다. 예를 들어, 4노드(2개의 HA 쌍) 클러스터를 사용할 때 LUN 4개를 추가합니다. 대규모 환경에서는 더 많은 LUN이 필요할 수 있습니다. 동일한 볼륨 수(총 8개, 스토리지 노드에 분산)를 사용하고 클러스터 노드 및 볼륨에 LUN을 2의 배수로 추가해야 합니다. 이 접근 방식을 통해 Epic 환경을 쉽게 확장할 수 있습니다.

* 예 1:2 노드 ONTAP 클러스터 *

노드 2개, HA 쌍 1개, 노드당 볼륨 4개, LUN 8개, 볼륨당 LUN 1개, LUN 2개 추가 추가, 볼륨 01의 node01에 1개, 볼륨02의 node02에 1개

* 예 2:4 노드 ONTAP 클러스터 *

노드 4개, HA 쌍 2개, 노드당 볼륨 2개, LUN 8개, 볼륨당 LUN 1개, 볼륨당 LUN 4개 추가, 볼륨당 1개, 볼륨 01의 node01에 1개, 볼륨02의 node03에 1개, 볼륨04의 node04에 1개

Epic ODB 또는 Clarity와 같은 워크로드의 성능을 최대화하기 위해 각 레이아웃은 NetApp 스토리지에도 가장 잘 맞습니다. 8개의 볼륨을 사용함으로써 쓰기 IO가 컨트롤러에 균등하게 분산되어 CPU 활용률이 극대화됩니다. 복제 및 백업의 경우 작업을 간소화하려면 볼륨 수를 8개로 제한하는 것이 가장 좋습니다.



== 축척 옵션

서버에 더 많은 스토리지가 필요한 경우 가장 쉬운 방법은 볼륨이 포함된 LUN을 확장하는 것입니다. 두 번째 옵션은 한 번에 2의 배수로 볼륨 그룹에 LUN을 추가하는 것입니다(노드당 볼륨당 1개).

예:



== 볼륨 및 8-LUN 레이아웃

image:epic-8lun.png["Epic 8-LUN 레이아웃"]


NOTE: 대규모 환경에서 4개 또는 8개 이상의 LUN이 필요한 경우 Epic 제휴 팀에 문의하여 LUN 설계를 확인하십시오. 이 팀은 epic @NetApp.com에서 연락할 수 있습니다.



== 모범 사례

* 8개 볼륨의 LUN 8개를 사용하여 클러스터의 모든 노드에 대해 한 번에 2개의 LUN을 추가합니다.
* HA 2노드 전체에서 워크로드의 균형을 유지하여 성능과 효율성을 극대화합니다.
* 3년 동안 증가할 것으로 예상되는 크기의 LUN을 생성합니다. 최대 LUN 크기는 를 link:https://docs.netapp.com/us-en/ontap/san-admin/resize-lun-task.html["ONTAP 설명서"]참조하십시오.
* 씬 프로비저닝된 볼륨 및 LUN 사용
* 최소 8개의 DB LUN, 2개의 저널 LUN 및 2개의 애플리케이션 LUN을 사용합니다. 이 구성은 스토리지 성능과 OS 대기열 길이를 극대화합니다. 용량 또는 기타 이유로 필요한 경우 추가 용량을 사용할 수 있습니다.
* 볼륨 그룹에 LUN을 추가해야 하는 경우 한 번에 8개의 LUN을 추가합니다.
* 함께 백업할 볼륨 및 LUN 그룹에 CG(정합성 보장 그룹)가 필요합니다.
* Genio 또는 입출력 성능 중에는 QoS를 사용하지 마십시오.
* Genio 또는 Clarity 테스트 후 NetApp는 운영 데이터를 로드하기 전에 스토리지를 삭제하고 재프로비저닝할 것을 권장합니다.
* LUN에 대해 를 사용하도록 설정하는 것이 `-space-allocation` 중요합니다. 그렇지 않으면 LUN에서 삭제된 데이터가 ONTAP에 표시되지 않으며 용량 문제가 발생할 수 있습니다. 자세한 내용은 Epic 스토리지 구성 빠른 참조 가이드 를 참조하십시오.

